# 1. 데이터베이스 일반

## (1) 데이터베이스란?
- 공통으로 사용되는 데이터의 공유와 운영을 위해 저장 관리할 수 있도록 하는 공간

| 특징 | 설명 |
| --- | --- |
| 실시간 접근성(Real-Time Accessibility) | 수시적이고 비정형적인 질의(조회)에 대하여 실시간 처리에 의한 응답이 가능해야 함 |
| 계속적인 변화(Continuous Evolution) | 데이터베이스의 상태는 동적임. 즉 새로운 데이터의 삽입(Insert),삭제(Delete),갱신(Update)로 항상 최신의 데이터를 유지함 |
| 동시공용(Concurrent Sharing) | 데이터베이스는 서로 다른 목적을 가진 여러 응용자들을 위한 것이므로 다수의 사용자가 동시에 같은 내용의 데이터를 이용할 수 있어야 함 |
| 내용에 의한 참조(Content Reference) | 데이터베이스에 있는 데이터를 참조할 때 데이터 레코드의 주소나 위치에 의해서가 아니라, 사용자가 요구하는 데이터 내용으로 데이터를 찾음 |

### 외우지 말고 이해해 봅시다.
- 사람은 무언가를 기억하고 연관 지어 생각한다.
  - `초등학교 시절 청소당번을 정해놓는 관습`
- 어딘가에 써놓으면 쉽게 잊혀지지도 않고 쉽게 찾을 수 있다.
  - 기억=메모리, 메모=데이터베이스
  - `칠판에 깊이 새겨진 첫사랑 '김개똥❤이기쁨'`
- 어디에 어떻게 써놓는것이 좋을까?
  - 쓰기 쉬운곳
  - 찾기 쉬운곳
  - [의문] 다같이 말고, 나만 알고 싶은건 어떻게하지?

### 정보를 모아놓기에 적당한 것을 찾기 시작
- 어딘가에 무언가를 기록하기 시작했다면
  - 그 이유는 바로 **정보를 관리**하기 위함
  - `다이어리에 깊이 새겨진 첫사랑 '김개똥❤이기쁨'`
- 어느날 아버지가 컴퓨터를 사오셨다.
  - 컴퓨터에는 파일이라는 개념이 들어있었음
    - 파일에는 컴퓨터와 사람이 알아볼 수 있는 정보가 기록되기 시작
    - 파일 시스템 = 정보 관리 용이
  - `'프린세스메이커' 게임 캐릭터 이름에 첫사랑을 새기다.`
- (이제 첫사랑 얘기는 좀 그만 하겠음..)
- 청소가 하기 싫어서 몰래 '청소당번'을 짝꿍 이름으로 바꾸었다.
  - 접근통제가 시급하다.
  - 칠판에 손대는 이는 벌점을 부여하기로 하여 접근은 막았고, 이제 반장인 나와 선생님만 청소당번을 바꿀수 있게 되었다.
- 어느날 내 짝꿍의 청소당번 차례가 되어 칠판에 써두었는데
  - 알고보니 지난주에 선생님이 짝꿍을 청소당번으로 써두었다고 함;
  - 파일 시스템의 문제 -> 접근 통제 및 동시성 제약
> 데이터베이스가 사용되기 이전에는 파일시스템을 통해 데이터가 유지되고 있었다.
> 그러나 파일을 기반으로 데이터 관리를 하게되면 중복 데이터가 발생하고 중복된 데이터 간 불일치가 발생하는 등 데이터로서의 무결성 문제가 발생하였다.

## (2) 백문이 불여일견
- 들어는 봤지 `CRUD`(`Create`, `Read`, `Update`, `Delete`)
- 음료수 자판기를 통해 데이터베이스를 운영해본다.
  - 구글 엑셀시트를 열고 요구사항에 맞게 기록해보겠음

### 그전에 `SQL`
- Structured Query Language
- *관계형* 데이터베이스에서 사용하는 표준 질의언어
- 프로그래밍 언어보다 단순함
- 모든 DBMS에서 사용 가능
- DML (Data Manipulation Language)
  - 데이터 조작 언어
  - `CRUD`(`Create`, `Read`, `Update`, `Delete`)에 해당
  - insert
    - 데이터 입력
  - delete
    - 데이터 삭제
  - update
    - 데이터 수정
  - select
    - 데이터 조회
- DDL (Data Definition Language)
  - 데이터 정의 언어
  - create
    - 데이터베이스 객체 정의
  - drop
    - 데이터베이스 객체 제거
  - alter
    - 데이터베이스 객체 재정의
- DCL (Data Control Language)
  - 데이터 제어 언어
  - grant, revoke
- TCL (Transaction Control Lenguage)
  - 트렌젝션 제어 언어
  - commit, rollback

### Create
- `SQL`에서는 `insert`
- OO테이블 여기여기여기에 이거이거이거를 넣겠다.
```sql
INSERT INTO 테이블명 (컬럼1 [, 컬럼2, ...]) VALUES (값1 [, 값2, ...])
```

#### 실습1
- 등록
  - 음료 자판기에서 콜라, 사이다, 환타를 팔아보기로 한다.
  - 콜라, 사이다, 환타는 250원에 들여와서 500원에 팔기로 한다.
- 등록2
  - 흰우유, 야쿠르트를 추가로 팔아보기로 한다.
  - 흰우유는 100원에 들여와서 300원에 팔기로 한다.
  - 야쿠르트는 20원에 들여와서 400%의 이윤을 남기기로 한다.

### Update
- `SQL`에서는 `update`
- OO테이블에서 여기여기여기 값을 요기요기요기 값으로 수정하겠다.
- OO테이블에서 여기여기여기 값을 요기요기요기 값으로 수정하는데 이러이러한 것들만 추려서 수정하겠다.
```sql
UPDATE 테이블명 SET 컬럼1 = 값1 [, 컬럼2 = 값2, ...]
[WHERE 조건식]
```

#### 실습2
- 수정
  - 환타의 원가가 50원 올랐다.
- 등록3
  - 웰치스를 추가로 팔아보기로 한다. 근데 사이즈가 500ml이다.
  - 웰치스는 400원에 들여와서 1,000원에 팔기로 한다.

### Read
- `SQL`에서는 `select`
- OO테이블에서 여기여기여기 값을 조회하겠다.
- OO테이블에서 여기여기여기 값을 조회하는데 이러이러한 것들만 추려서 조회하겠다.
- OO테이블에서 여기여기여기 값을 조회하는데 이러이러한 순서로 정렬해서 조회하겠다.
- OO테이블에서 여기값 중 최고높은 값이 무엇인지 조회하겠다.
```sql
SELECT [ALL | DISTINCT] 컬럼명 [, 컬럼명...]
FROM 테이블명 [, 테이블명...]
[WHERE 조건식]
[GROUP BY 컬럼명 [HAVING 조건식]]
[ORDER BY 컬럼명]
GROUP BY 컬럼명 [, 컬럼명...]
ORDER BY 컬럼명 [, 컬럼명...]
```

#### 실습3
- 조회
  - 이윤이 가장 높은 음료는?
  - 용량당 단가가 가장 낮은 음료?
  - 현재(2019-9-30) 각 음료별 재고 수량은?
  - 현재(2019-9-30) '총매출'과 '순이익'은?
  - 2019-1-1 콜라가 판매된 총수량은?

### Delete
- `SQL`에서는 `delete`
- OO테이블에서 데이터를 삭제하겠다.
- OO테이블에서 데이터를 삭제하는데 이러이러한 것들만 추려서 삭제하겠다.
```sql
DELETE FROM 테이블명
[WHERE 조건식]
```

#### 실습4
- 삭제
  - 판매번호 7번에 대한 고객 환불이 필요하다.

> [데이터베이스 일반 > 실습자료 \| google docs](https://docs.google.com/spreadsheets/d/1bO6-mNnRzX3o3eNYntkYJVFuoVVYswR7xII0c7rECK0)

### 재밌다. 더 해보고 싶다.
- [프로그래머스 SQL 문제 풀기](https://programmers.co.kr/learn/challenges)
- 더 알고 싶다.
  - [JOIN](https://ko.wikipedia.org/wiki/Join_(SQL))
  - [그룹함수](https://www.google.com/search?q=sql+%EA%B7%B8%EB%A3%B9%ED%95%A8%EC%88%98)
  - 정규화

## (3) NEXT
> (예습하실 분 보세요.)
- `mysql` 실습 환경을 조성해 봅니다.
- 직접 `SQL`을 만지작 거립니다.